"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const rxjs_1 = require("rxjs");
exports.fromReadableStream = (stream) => {
    stream.pause();
    return new rxjs_1.Observable(observer => {
        const next = chunk => observer.next(chunk);
        const complete = () => observer.complete();
        const error = err => observer.error(err);
        stream
            .on('data', next)
            .on('error', error)
            .on('end', complete)
            .resume();
        return () => {
            stream.removeListener('data', next);
            stream.removeListener('error', error);
            stream.removeListener('end', complete);
        };
    });
};
